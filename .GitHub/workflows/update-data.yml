name: Daily Data Refresh on: schedule: - cron: '0 2 * * *' # runs daily at 02:00 UTC workflow_dispatch: # allows manual trigger jobs: update-data: runs-on: ubuntu-latest steps: - name: Checkout repository uses: actions/checkout@v3 - name: Set up Node.js uses: actions/setup-node@v3 with: node-version: '20' - name: Install dependencies (none needed) run: echo "No npm deps" - name: Run data fetch script run: node fetch-data.js - name: Commit and push updated data.json run: | git config --global user.email "3iatlasnews@proton.me" git config --global user.name "Atlas Bot" git add data.json git diff-index --quiet HEAD || git commit -m "Update comet data (auto)" git push env: GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
