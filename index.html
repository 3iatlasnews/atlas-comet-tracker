<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8"> <title>Comet 3I / Atlas Tracker</title> <meta name="viewport" content="width=device-width, initial-scale=1"> <style> body {font-family:Arial,sans-serif;margin:2rem;background:#fafafa;color:#333;} h1 {color:#0066cc;} .loading {color:#777;} pre {background:#eee;padding:1rem;overflow:auto;} </style> </head> <body> <h1>Comet 3I / Atlas – Live Data</h1> <p id="status" class="loading">Loading latest information…</p> <pre id="output"></pre> <script> // ------------------------------------------------- // Helper: fetch JSON and pretty‑print it // ------------------------------------------------- async function loadData() { const statusEl = document.getElementById('status'); const outEl = document.getElementById('output'); try { // 1️⃣ JPL Small‑Body Database (public, no key needed for basic queries) const jplResp = await fetch('https://ssd-api.jpl.nasa.gov/sbdb.api?sstr=3I'); const jplData = await jplResp.json(); // 2️⃣ Minor Planet Center recent observations (plain text) const mpcResp = await fetch('https://minorplanetcenter.net/web_service/search?obj=3I'); const mpcText = await mpcResp.text(); // 3️⃣ SpaceWeather news RSS (optional) const rssResp = await fetch('https://spaceweather.com/rss/comet.xml'); const rssText = await rssResp.text(); // Combine everything into a single object for display const combined = { jpl: jplData, mpc_recent_observations: mpcText.slice(0, 500) + '…', // truncate for brevity latest_news_rss: rssText.slice(0, 500) + '…' }; statusEl.textContent = '✅ Data loaded (updated on ' + new Date().toLocaleString() + ')'; outEl.textContent = JSON.stringify(combined, null, 2); } catch (e) { statusEl.textContent = '❌ Error loading data'; console.error(e); } } // Load as soon as the page renders loadData(); </script> </body> </html>
<script> async function loadStaticData() { const status = document.getElementById('status'); const out = document.getElementById('output'); try { const resp = await fetch('data.json'); const json = await resp.json(); status.textContent = '✅ Static data (updated nightly)'; out.textContent = JSON.stringify(json, null, 2); } catch (e) { status.textContent = '❌ Could not load static data'; console.error(e); } } // Prefer static data if it exists; otherwise fall back to live fetch if (document.location.hostname.includes('netlify.app')) { loadStaticData(); } else { loadData(); // the live‑fetch version from earlier } </script>
