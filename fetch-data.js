// fetch-data.js â€“ run by GitHub Actions const https = require('https'); const fs = require('fs'); const path = require('path'); function fetchJson(url) { return new Promise((resolve, reject) => { https.get(url, res => { let data = ''; res.on('data', chunk => data += chunk); res.on('end', () => resolve(JSON.parse(data))); }).on('error', reject); }); } async function main() { const jpl = await fetchJson('https://ssd-api.jpl.nasa.gov/sbdb.api?sstr=3I'); const mpc = await fetchJson('https://www.minorplanetcenter.net/web_service/search?obj=3I'); // returns plain text, but we treat as JSON for demo const combined = {jpl, mpc}; // Write to data.json in the repo root const outPath = path.join(__dirname, 'data.json'); fs.writeFileSync(outPath, JSON.stringify(combined, null, 2)); console.log('data.json written'); } main().catch(err => { console.error(err); process.exit(1); });
